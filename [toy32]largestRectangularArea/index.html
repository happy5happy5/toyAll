<!DOCTYPE html>
<html>
  <body>
    <script type="text/javascript" src="main.js"></script>
    <div class="markdown-body">
      <h1>largestRectangularArea</h1>
      <h2>문제</h2>
      <p>
        히스토그램(histogram)은 표(도수 분포표, 빈도표)로 되어 있는 도수
        분포(frequency distribution)를 정보 그림으로 나타낸 것입니다. 예를 들어,
        대학교의 한 학과에서 신입생들의 현재 거주 지역을 조사한 결과가 다음과
        같다고 가정해 봅시다.
      </p>
      <ul>
        <li>
          서울 2명, 경기 1명, 대전 4명, 부산 5명, 대구 1명, 광주 3명, 제주도
          3명...
        </li>
      </ul>
      <p>
        이 자료를 히스트그램으로 나타내면 각각 높이 2, 1, 4, 5, 1, 3, 3인
        직사각형이 왼쪽부터 그려지게 됩니다. 편의상 직사각형의 너비는 1이라고
        가정합니다. 이를 그림으로 나타내면 아래와 같습니다.
      </p>
      <pre
        style="
          color: black;
          background: rgb(245, 242, 240);
          text-shadow: white 0px 1px;
          font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
          text-align: left;
          white-space: pre;
          word-spacing: normal;
          word-break: normal;
          overflow-wrap: normal;
          line-height: 1.5;
          tab-size: 4;
          hyphens: none;
          padding: 1em;
          margin: 0.5em 0px;
          overflow: auto;
        "
      ><code style="color: black; background: none; text-shadow: white 0px 1px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;">6 |
        5 |       x
        4 |     x x
        3 |     x x   x x
        2 | x   x x   x x
        1 | x x x x x x x
        ------------------</code></pre>
      <p>
        이 히스토그램 내에서 만들 수 있는 가장 큰 직사각형의 면적은 8입니다 (O로
        표시한 부분).
      </p>
      <pre
        style="
          color: black;
          background: rgb(245, 242, 240);
          text-shadow: white 0px 1px;
          font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
          text-align: left;
          white-space: pre;
          word-spacing: normal;
          word-break: normal;
          overflow-wrap: normal;
          line-height: 1.5;
          tab-size: 4;
          hyphens: none;
          padding: 1em;
          margin: 0.5em 0px;
          overflow: auto;
        "
      ><code style="color: black; background: none; text-shadow: white 0px 1px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;">6 |
        5 |       x
        4 |     O O
        3 |     O O   x x
        2 | x   O O   x x
        1 | x x O O x x x
        ------------------</code></pre>
      <p>
        이처럼 임의의 히스토그램 내에서 가장 큰 직사각형의 면적을 리턴해야
        합니다.
      </p>
      <h2>입력</h2>
      <h3>인자 1 : histogram</h3>
      <ul>
        <li><code>number</code> 타입을 요소로 갖는 배열</li>
        <li><code>histogram[i]</code>는 100,000 이하의 양의 정수</li>
        <li><code>histogram.length</code>는 100,000 이하</li>
      </ul>
      <h2>출력</h2>
      <ul>
        <li><code>number</code> 타입을 리턴해야 합니다.</li>
      </ul>
      <h2>입출력 예시</h2>
      <pre
        style="
          color: black;
          background: rgb(245, 242, 240);
          text-shadow: white 0px 1px;
          font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
          text-align: left;
          white-space: pre;
          word-spacing: normal;
          word-break: normal;
          overflow-wrap: normal;
          line-height: 1.5;
          tab-size: 4;
          hyphens: none;
          padding: 1em;
          margin: 0.5em 0px;
          overflow: auto;
        "
      ><code style="color: black; background: none; text-shadow: white 0px 1px; font-family: Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none;"><span class="token" style="color: rgb(0, 119, 170);">let</span> histogram <span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span> <span class="token" style="color: rgb(153, 153, 153);">[</span><span class="token" style="color: rgb(153, 0, 85);">2</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">1</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">4</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">5</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">1</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">3</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">3</span><span class="token" style="color: rgb(153, 153, 153);">]</span><span class="token" style="color: rgb(153, 153, 153);">;</span>
        <span class="token" style="color: rgb(0, 119, 170);">let</span> output <span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span> <span class="token" style="color: rgb(221, 74, 104);">largestRectangularArea</span><span class="token" style="color: rgb(153, 153, 153);">(</span>histogram<span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">;</span>
        <span class="token console" style="color: rgb(221, 74, 104);">console</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span class="token method property-access" style="color: rgb(221, 74, 104);">log</span><span class="token" style="color: rgb(153, 153, 153);">(</span>output<span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">;</span> <span class="token" style="color: slategray;">// --&gt; 8</span>
        
        <span class="token" style="color: rgb(0, 119, 170);">let</span> histogram <span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span> <span class="token" style="color: rgb(153, 153, 153);">[</span><span class="token" style="color: rgb(153, 0, 85);">6</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">2</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">5</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">4</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">5</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">1</span><span class="token" style="color: rgb(153, 153, 153);">,</span> <span class="token" style="color: rgb(153, 0, 85);">6</span><span class="token" style="color: rgb(153, 153, 153);">]</span><span class="token" style="color: rgb(153, 153, 153);">;</span>
        <span class="token" style="color: rgb(0, 119, 170);">let</span> output <span class="token" style="color: rgb(154, 110, 58); background: rgba(255, 255, 255, 0.5);">=</span> <span class="token" style="color: rgb(221, 74, 104);">largestRectangularArea</span><span class="token" style="color: rgb(153, 153, 153);">(</span>histogram<span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">;</span>
        <span class="token console" style="color: rgb(221, 74, 104);">console</span><span class="token" style="color: rgb(153, 153, 153);">.</span><span class="token method property-access" style="color: rgb(221, 74, 104);">log</span><span class="token" style="color: rgb(153, 153, 153);">(</span>output<span class="token" style="color: rgb(153, 153, 153);">)</span><span class="token" style="color: rgb(153, 153, 153);">;</span> <span class="token" style="color: slategray;">// --&gt; 12</span>
        <span class="token" style="color: slategray;">/*
        6 | x           x
        5 | x   x   x   x
        4 | x   O O O   x
        3 | x   O O O   x
        2 | x x O O O   x
        1 | x x O O O x x
        ------------------
        */</span></code></pre>
      <h2>Advanced</h2>
      <ul>
        <li>
          임의의 히스토그램에서 가장 큰 직사각형의 넓이를 계산하는 효율적인
          알고리즘(<code>O(N * logN)</code>)이 존재합니다. 쉽지 않기 때문에 바로
          레퍼런스 코드를 보고 이해하는 데 집중하시기 바랍니다.
        </li>
      </ul>
      <h2>힌트</h2>
      <ul>
        <li>
          문제를 어렵게 만드는 것은 높이를 포기하고 너비를 선택할지, 너비를
          포기하고 높이를 선택할지 따져봐야 한다는 것입니다.
        </li>
        <li>
          문제를 직접 풀어보고 유심히 관찰하는 것은 문제 해결의 첫 걸음입니다.
        </li>
        <li>
          길이 <code>n</code>인 <code>histogram</code>에서 가장 큰 직사각형이
          <code>histogram[i]</code>부터 막대 <code>histogram[j]</code>까지라고
          가정해봅시다. <code>i</code>와 <code>j</code>는
          <code>0 ~ n-1</code> 사이에 놓여 있습니다. (<code
            >0 &lt;= i &lt;= j &lt;= n-1</code
          >)
        </li>
        <li>
          이 사각형의 높이는 이 구간의 막대 중 가장 낮은 높이를 가진
          막대(<code>histogram[k]</code>)의 높이와 같습니다.
        </li>
        <li>
          이 사각형은 전체 구간(<code>0 ~ n-1</code>) 중 가장 낮은 막대를
          포함하고 있거나 그렇지 않은 경우로 나뉩니다.
        </li>
        <li>
          전자는 <code>i === 0</code>이고 <code>j === n-1</code>인 경우
          뿐입니다.
        </li>
        <li>
          후자는 이 직사각형이 차지하는 구간 바깥에 존재합니다. (<code
            >k &lt; i</code
          >이거나 <code>j &lt; k</code>)
        </li>
        <li>이 이후부터는 스스로 생각해보시기 바랍니다.</li>
        <li>구간 트리(segment tree)를 약간 변형하여 해결합니다.</li>
      </ul>
    </div>
  </body>
</html>
